# ‚úÖ –°–¢–ê–¢–£–° –î–ï–ü–õ–û–Ø - 2025-11-11

## üéØ –ß–¢–û –í–´–ü–û–õ–ù–ï–ù–û

### ‚úÖ 1. –ü–æ–ª—É—á–µ–Ω—ã credentials –æ—Ç Supabase
```
URL: https://dpsykseeqloturowdyzf.supabase.co
Anon Key: ‚úì
Service Role Key: ‚úì
```

### ‚úÖ 2. –°–æ–∑–¥–∞–Ω .env.local
–§–∞–π–ª `/home/ibm/dongfeng-minitraktor/frontend/.env.local` —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏.

### ‚úÖ 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ SQL –º–∏–≥—Ä–∞—Ü–∏—è
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è equipment –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ Supabase REST API:**
```bash
curl -X PATCH 'https://dpsykseeqloturowdyzf.supabase.co/rest/v1/categories?id=eq.3' \
  -H "Authorization: Bearer SERVICE_ROLE_KEY" \
  -d '{"name":"–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞","description":"..."}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "id": 3,
  "name": "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞",
  "slug": "equipment",
  "description": "–°–Ω–µ–≥–æ—É–±–æ—Ä—â–∏–∫–∏, –≥–∞–∑–æ–Ω–æ–∫–æ—Å–∏–ª–∫–∏, –ø–æ–¥–º–µ—Ç–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã, —Ç–µ—Ö–Ω–∏–∫–∞ –¥–ª—è —É–±–æ—Ä–∫–∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π"
}
```

‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!**

### ‚úÖ 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω netlify.toml
**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–æ–π–Ω–æ–π –ø—É—Ç—å `frontend/frontend`  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω `base = "frontend"`

**–ö–æ–º–º–∏—Ç:** `d64df1b` - FIX: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω netlify.toml

### ‚úÖ 5. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Netlify
```bash
npx netlify env:set NEXT_PUBLIC_SUPABASE_URL "https://dpsykseeqloturowdyzf.supabase.co"
npx netlify env:set NEXT_PUBLIC_SUPABASE_ANON_KEY "..."
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ "all"

### ‚úÖ 6. –õ–æ–∫–∞–ª—å–Ω—ã–π build —É—Å–ø–µ—à–µ–Ω
```bash
cd /home/ibm/dongfeng-minitraktor/frontend
npm run build

‚úì Compiled successfully in 1592ms
‚úì Linting and checking validity of types
‚úì Generating static pages (19/19)
```

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –î–µ–ø–ª–æ–π Netlify –∑–∞–≤–∏—Å

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
**Site:** https://beltehferm.netlify.app  
**–°—Ç–∞—Ç—É—Å:** HTTP 500  
**–û—à–∏–±–∫–∞:** `a2.snapshot is not a function`

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
–î–µ–ø–ª–æ–π –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –Ω–æ –∑–∞—Å—Ç—Ä—è–ª –Ω–∞ —ç—Ç–∞–ø–µ `npm run build`:
```
build.command from netlify.toml
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
$ npm install && npm run build
> beltehferm-frontend@1.0.0 build
[–í–ò–°–ò–¢ –ó–î–ï–°–¨]
```

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
1. **–í–∞—Ä–∏–∞–Ω—Ç 1:** Build timeout (Netlify free tier = 15 –º–∏–Ω—É—Ç)
2. **–í–∞—Ä–∏–∞–Ω—Ç 2:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
3. **–í–∞—Ä–∏–∞–Ω—Ç 3:** –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –æ—Ç GitHub –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Ä—É—á–Ω—ã–º

---

## üîß –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ Netlify Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://app.netlify.com/sites/beltehferm/deploys
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ - –≥–¥–µ –∏–º–µ–Ω–Ω–æ –∑–∞—Å—Ç—Ä—è–ª build
4. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - –æ—Ç–º–µ–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢—Ä–∏–≥–≥–µ—Ä–Ω—É—Ç—å –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ –ø—É—Å—Ç–æ–π –∫–æ–º–º–∏—Ç
```bash
cd /home/ibm/dongfeng-minitraktor
git commit --allow-empty -m "trigger deploy"
git push origin main
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–≤–µ–∂–∏–π –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Netlify CLI –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```bash
cd /home/ibm/dongfeng-minitraktor/frontend
npx netlify deploy list  # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ–µ–≤
```

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –í—Ä–µ–º—è |
|--------|--------|-------|
| –ü–æ–ª—É—á–∏—Ç—å Supabase credentials | ‚úÖ | 1 –º–∏–Ω |
| –°–æ–∑–¥–∞—Ç—å .env.local | ‚úÖ | 1 –º–∏–Ω |
| –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –ë–î | ‚úÖ | 2 –º–∏–Ω |
| –ò—Å–ø—Ä–∞–≤–∏—Ç—å netlify.toml | ‚úÖ | 1 –º–∏–Ω |
| –î–æ–±–∞–≤–∏—Ç—å env vars –≤ Netlify | ‚úÖ | 2 –º–∏–Ω |
| –õ–æ–∫–∞–ª—å–Ω—ã–π build | ‚úÖ | 2 –º–∏–Ω |
| –î–µ–ø–ª–æ–π –Ω–∞ Netlify | ‚è≥ | –í –ø—Ä–æ—Ü–µ—Å—Å–µ... |
| **–ò–¢–û–ì–û** | **85% –≥–æ—Ç–æ–≤–æ** | **~10 –º–∏–Ω** |

---

## ‚úÖ –ß–¢–û –¢–û–ß–ù–û –†–ê–ë–û–¢–ê–ï–¢

### –õ–æ–∫–∞–ª—å–Ω–æ:
- ‚úÖ Build —É—Å–ø–µ—à–µ–Ω
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ API endpoints —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- ‚úÖ Middleware –∞–∫—Ç–∏–≤–µ–Ω

### –í Supabase:
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏—è equipment –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –í—Å–µ 3 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ API

### –ù–∞ GitHub:
- ‚úÖ –ö–æ–¥ –∑–∞–ø—É—à–µ–Ω
- ‚úÖ –í—Å–µ –∫–æ–º–º–∏—Ç—ã –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ Netlify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Netlify Dashboard
https://app.netlify.com/sites/beltehferm/deploys

–ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏.

### 2. –ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è - —Ç—Ä–∏–≥–≥–µ—Ä–Ω–∏—Ç–µ –Ω–æ–≤—ã–π
```bash
cd /home/ibm/dongfeng-minitraktor
git commit --allow-empty -m "üöÄ DEPLOY: Trigger fresh deploy"
git push origin main
```

### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Netlify Drop
1. –°–æ–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ: `npm run build`
2. –û—Ç–∫—Ä–æ–π—Ç–µ: https://app.netlify.com/drop
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø–∞–ø–∫—É `.next`

---

## üìù –í–ê–ñ–ù–´–ï –°–°–´–õ–ö–ò

- **Site URL:** https://beltehferm.netlify.app
- **Admin URL:** https://app.netlify.com/sites/beltehferm
- **Deploys:** https://app.netlify.com/sites/beltehferm/deploys
- **Environment:** https://app.netlify.com/sites/beltehferm/settings/env

- **Supabase Dashboard:** https://supabase.com/dashboard/project/dpsykseeqloturowdyzf
- **GitHub Repo:** https://github.com/TARS911/dongfeng-minitraktor

---

## üéâ –†–ï–ó–Æ–ú–ï

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!**
- –ö–æ–¥ —Ä–∞–±–æ—á–∏–π ‚úÖ
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã ‚úÖ
- Build –ª–æ–∫–∞–ª—å–Ω–æ —É—Å–ø–µ—à–µ–Ω ‚úÖ

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
–î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è –Ω–∞ Netlify (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ Dashboard).

–ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –∑–∞–≤–∏—Å - –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –ø—É—Å—Ç–æ–π –∫–æ–º–º–∏—Ç (—Å–º. –≤—ã—à–µ).

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~15 –º–∏–Ω—É—Ç  
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 85% ‚úÖ  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è Netlify
