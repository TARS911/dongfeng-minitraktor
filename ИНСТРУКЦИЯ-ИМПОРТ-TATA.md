# üì• –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ò–º–ø–æ—Ä—Ç 2,073 —Ç–æ–≤–∞—Ä–æ–≤ TATA-AGRO –≤ Supabase

## ‚úÖ –ü–û–î–ì–û–¢–û–í–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê!

**–§–∞–π–ª:** `TATA-IMPORT-READY.csv`
**–†–∞–∑–º–µ—Ä:** 0.87 MB
**–¢–æ–≤–∞—Ä–æ–≤:** 2,073 (–Ω–æ–≤—ã—Ö: ~1,787)
**–¶–µ–Ω—ã:** –£–ñ–ï –í –†–£–ë–õ–Ø–• (–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã √ó 1.85) ‚úÖ

---

## üöÄ –ú–ï–¢–û–î 1: –ò–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ Supabase Dashboard UI (–†–ï–ö–û–ú–ï–ù–î–£–Æ)

### ‚ö° –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±!

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Table Editor

```
https://supabase.com/dashboard/project/dpsykseeqloturowdyzf/editor
```

### –®–∞–≥ 2: –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `products`

1. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É **`products`**
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ—ë

### –®–∞–≥ 3: –ù–∞–∂–º–∏—Ç–µ "Insert" ‚Üí "Import data from CSV"

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Insert"** (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞)
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Import data from CSV"**

### –®–∞–≥ 4: –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª

1. –ù–∞–∂–º–∏—Ç–µ **"Choose file"**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª: `/home/ibm/dongfeng-minitraktor/TATA-IMPORT-READY.csv`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - ‚úÖ **"First row is header"** - –í–ö–õ–Æ–ß–ï–ù–û
   - ‚úÖ **"Column separator"** - –∑–∞–ø—è—Ç–∞—è (`,`)
   - ‚úÖ **"Encoding"** - UTF-8

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–æ–Ω–æ–∫

Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–ª–æ–Ω–æ–∫:

| CSV –∫–æ–ª–æ–Ω–∫–∞ | ‚Üí | DB –∫–æ–ª–æ–Ω–∫–∞ |
|-------------|---|------------|
| name | ‚Üí | name |
| slug | ‚Üí | slug |
| description | ‚Üí | description |
| price | ‚Üí | price |
| image_url | ‚Üí | image_url |
| category_id | ‚Üí | category_id |
| manufacturer | ‚Üí | manufacturer |
| in_stock | ‚Üí | in_stock |

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∞–ø–ø–∏–Ω–≥!** –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫ - –∏—Å–ø—Ä–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é.

### –®–∞–≥ 6: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–í–ê–ñ–ù–û!** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–≤–∞—Ä—ã —É–∂–µ –µ—Å—Ç—å –≤ –ë–î (286 —à—Ç).

**–í—ã–±–µ—Ä–∏—Ç–µ:**
- ‚úÖ **"Skip"** - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)
- –ò–õ–ò **"Update"** - –æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á:** `slug` –∏–ª–∏ `name`

### –®–∞–≥ 7: –ò–º–ø–æ—Ä—Ç!

1. –ù–∞–∂–º–∏—Ç–µ **"Import"**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (2-5 –º–∏–Ω—É—Ç)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤
SELECT COUNT(*) as total FROM products;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ tata-agro —Ç–æ–≤–∞—Ä–æ–≤
SELECT COUNT(*) as tata_products
FROM products
WHERE image_url LIKE '%tata-agro%';

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å > 20 —Ä—É–±)
SELECT MIN(price), MAX(price), AVG(price)
FROM products
WHERE image_url LIKE '%tata-agro%';
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `total`: ~5,800 + 1,787 = **~7,587 —Ç–æ–≤–∞—Ä–æ–≤**
- `tata_products`: **~2,073**
- `MIN(price)`: **~25 —Ä—É–±**
- `AVG(price)`: **~1,500 —Ä—É–±**

---

## üîß –ú–ï–¢–û–î 2: –ò–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ psql (–µ—Å–ª–∏ Dashboard –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- PostgreSQL –∫–ª–∏–µ–Ω—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase –ë–î

### –ö–æ–º–∞–Ω–¥–∞:

```bash
psql "postgresql://postgres:[PASSWORD]@db.dpsykseeqloturowdyzf.supabase.co:5432/postgres" \
  -c "\copy products(name,slug,description,price,old_price,image_url,category_id,manufacturer,model,in_stock,featured,specifications) FROM '/home/ibm/dongfeng-minitraktor/TATA-IMPORT-READY.csv' CSV HEADER"
```

**–ó–∞–º–µ–Ω–∏—Ç–µ `[PASSWORD]`** –Ω–∞ –≤–∞—à –ø–∞—Ä–æ–ª—å –ë–î (—Å–º. Project Settings ‚Üí Database).

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 1. –î—É–±–ª–∏–∫–∞—Ç—ã
- –í –ë–î —É–∂–µ –µ—Å—Ç—å **286 —Ç–æ–≤–∞—Ä–æ–≤** tata-agro
- –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –æ–Ω–∏ –±—É–¥—É—Ç **–ø—Ä–æ–ø—É—â–µ–Ω—ã** (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–ª–∏ "Skip")
- –ò—Ç–æ–≥–æ –Ω–æ–≤—ã—Ö: **~1,787 —Ç–æ–≤–∞—Ä–æ–≤**

### 2. –¶–µ–Ω—ã
- ‚úÖ **–£–ñ–ï –í –†–£–ë–õ–Ø–•!** –ù–µ –Ω—É–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å!
- –í—Å–µ —Ü–µ–Ω—ã —É–º–Ω–æ–∂–µ–Ω—ã –Ω–∞ 1.85
- –ú–∏–Ω–∏–º—É–º: ~25 —Ä—É–±
- –ú–∞–∫—Å–∏–º—É–º: ~24,000 —Ä—É–±

### 3. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É:
  - DongFeng ‚Üí category_id: 313
  - Foton ‚Üí category_id: 314
  - Jinma ‚Üí category_id: 315
  - Xingtai ‚Üí category_id: 316
  - –î–≤–∏–≥–∞—Ç–µ–ª–∏ ‚Üí category_id: 302
  - –ú–æ—Ç–æ—Ç—Ä–∞–∫—Ç–æ—Ä—ã ‚Üí category_id: 305

### 4. Slug
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π (–¥–æ–±–∞–≤–ª–µ–Ω —Å—á–µ—Ç—á–∏–∫ –≤ –∫–æ–Ω—Ü–µ)

### 5. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –í—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞: **2-5 –º–∏–Ω—É—Ç** (Dashboard UI)
- –í—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞: **30-60 —Å–µ–∫—É–Ω–¥** (psql)
- –ë–î –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–æ–π —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ (–∏–Ω–¥–µ–∫—Å—ã –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è)

---

## üîç –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –ò–ú–ü–û–†–¢–ê

### 1. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤

```sql
SELECT
  '–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤' as metric,
  COUNT(*) as count
FROM products

UNION ALL

SELECT
  '–¢–æ–≤–∞—Ä—ã tata-agro',
  COUNT(*)
FROM products
WHERE image_url LIKE '%tata-agro%';
```

### 2. –¶–µ–Ω—ã –≤ —Ä—É–±–ª—è—Ö

```sql
SELECT
  MIN(price) as min_rub,
  MAX(price) as max_rub,
  ROUND(AVG(price), 2) as avg_rub,
  COUNT(*) as total
FROM products
WHERE image_url LIKE '%tata-agro%';
```

### 3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

```sql
SELECT
  c.name as category,
  COUNT(p.id) as products
FROM products p
JOIN categories c ON p.category_id = c.id
WHERE p.image_url LIKE '%tata-agro%'
GROUP BY c.name
ORDER BY products DESC;
```

---

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤** | ~7,587 |
| **–¢–æ–≤–∞—Ä—ã tata-agro** | ~2,073 |
| **–ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã** | ~1,787 |
| **–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞** | ~1,500 —Ä—É–± |
| **–ú–∏–Ω. —Ü–µ–Ω–∞** | ~25 —Ä—É–± |
| **–ú–∞–∫—Å. —Ü–µ–Ω–∞** | ~24,700 —Ä—É–± |

---

## üö® TROUBLESHOOTING

### –û—à–∏–±–∫–∞: "Duplicate key value"
- **–ü—Ä–∏—á–∏–Ω–∞:** –¢–æ–≤–∞—Ä —Å —Ç–∞–∫–∏–º slug —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- **–†–µ—à–µ–Ω–∏–µ:** –í—ã–±–µ—Ä–∏—Ç–µ "Skip duplicates" –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

### –û—à–∏–±–∫–∞: "Column not found"
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ CSV ‚Üí DB –∫–æ–ª–æ–Ω–æ–∫

### –û—à–∏–±–∫–∞: "Timeout"
- **–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ–ª—å—à–æ–π —Ñ–∞–π–ª –∏–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ psql –º–µ—Ç–æ–¥ –≤–º–µ—Å—Ç–æ Dashboard

### –û—à–∏–±–∫–∞: "Foreign key violation"
- **–ü—Ä–∏—á–∏–Ω–∞:** category_id –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ categories
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã

---

## üìù –§–ê–ô–õ–´

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `TATA-IMPORT-READY.csv` | –ì–æ—Ç–æ–≤—ã–π CSV –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ |
| `–ò–ù–°–¢–†–£–ö–¶–ò–Ø-–ò–ú–ü–û–†–¢-TATA.md` | –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è |
| `prepare-tata-import.py` | –°–∫—Ä–∏–ø—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö |

---

## ‚úÖ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ —É –≤–∞—Å –±—É–¥–µ—Ç:
- **~7,600 —Ç–æ–≤–∞—Ä–æ–≤** –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- **~2,073 —Ç–æ–≤–∞—Ä–∞** –æ—Ç tata-agro
- **–í—Å–µ —Ü–µ–Ω—ã –≤ —Ä—É–±–ª—è—Ö**
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**

üéâ **–ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!**
